(()=>{"use strict";const t=16,e=16,a=null,n=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],l=[[255,255,255,255],[0,0,0,255]];let o=null,d=null;function i(t){o=t}function c(t){d=t}const g=document.createElement("canvas"),s=g.getContext("2d");g.style.backgroundColor="white",g.width=t,g.height=e;let u=4;g.style.width=t*u+"px",g.style.height=e*u+"px",g.style.imageRendering="pixelated",g.addEventListener("wheel",(a=>{a.preventDefault();const n=Math.sign(a.deltaY);u+=n,g.style.width=t*u+"px",g.style.height=e*u+"px"})),document.body.append(g);const r=s.createImageData(16,16);for(let t=0;t<16;t++)for(let e=0;e<16;e++){const o=a?a[n[t][e]]:l[n[t][e]],d=4*(16*t+e);r.data[d]=o[0],r.data[d+1]=o[1],r.data[d+2]=o[2],r.data[d+3]=o[3]}s.putImageData(r,0,0),g.addEventListener("click",(t=>{i(s.getImageData(0,0,16,16));const e=g.getBoundingClientRect(),a=Math.floor((t.clientX-e.left)/u),n=4*(16*Math.floor((t.clientY-e.top)/u)+a);r.data[n]=0,r.data[n+1]=0,r.data[n+2]=0,r.data[n+3]=255,s.putImageData(r,0,0),c(s.getImageData(0,0,16,16))})),g.addEventListener("mousemove",(t=>{if(1===t.buttons){i(s.getImageData(0,0,16,16));const e=g.getBoundingClientRect(),a=Math.floor((t.clientX-e.left)/u),n=4*(16*Math.floor((t.clientY-e.top)/u)+a);r.data[n]=0,r.data[n+1]=0,r.data[n+2]=0,r.data[n+3]=255,s.putImageData(r,0,0),c(s.getImageData(0,0,16,16))}})),document.addEventListener("keydown",(t=>{"z"===t.key&&t.metaKey&&(t.preventDefault(),o&&(console.log("undo"),s.putImageData(o,0,0),c(o),i(null)))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQ3hCTCxFQUFVTSxLQUFLRCxFQUFRLEdBQUssRUFDNUJMLEVBQVVNLEtBQUtELEVBQVEsR0FBSyxFQUM1QkwsRUFBVU0sS0FBS0QsRUFBUSxHQUFLLElBQzVCdEIsRUFBSXdCLGFBQWFQLEVBQVcsRUFBRyxHQUMvQnJCLEVBQWlCSSxFQUFJeUIsYUFBYSxFQUFHLEVBQUcsR0FBSSxJQUFJLElBR3BENUIsRUFBT1csaUJBQWlCLGFBQWNDLElBQ2xDLEdBQWtCLElBQWRBLEVBQUV3QixRQUFlLENBQ2pCdkMsRUFBaUJNLEVBQUl5QixhQUFhLEVBQUcsRUFBRyxHQUFJLEtBQzVDLE1BQU1DLEVBQU83QixFQUFPOEIsd0JBQ2RQLEVBQUlSLEtBQUtnQixPQUFPbkIsRUFBRW9CLFFBQVVILEVBQUtJLE1BQVF4QixHQUV6Q2dCLEVBQXVCLEdBQVYsR0FEVFYsS0FBS2dCLE9BQU9uQixFQUFFc0IsUUFBVUwsRUFBS00sS0FBTzFCLEdBQ3RCYyxHQUN4QkgsRUFBVU0sS0FBS0QsR0FBUyxFQUN4QkwsRUFBVU0sS0FBS0QsRUFBUSxHQUFLLEVBQzVCTCxFQUFVTSxLQUFLRCxFQUFRLEdBQUssRUFDNUJMLEVBQVVNLEtBQUtELEVBQVEsR0FBSyxJQUM1QnRCLEVBQUl3QixhQUFhUCxFQUFXLEVBQUcsR0FDL0JyQixFQUFpQkksRUFBSXlCLGFBQWEsRUFBRyxFQUFHLEdBQUksSUFDaEQsS0FXSjNCLFNBQVNVLGlCQUFpQixXQUFZQyxJQUNwQixNQUFWQSxFQUFFeUIsS0FBZXpCLEVBQUUwQixVQUNuQjFCLEVBQUVDLGlCQVZGbEIsSUFDQTRDLFFBQVFDLElBQUksUUFDWnJDLEVBQUl3QixhQUFhaEMsRUFBYyxFQUFHLEdBQ2xDSSxFQUFpQkosR0FDakJFLEVBQWlCLE9BUXJCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90c2JwLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgQXBwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0geyBsYXN0OiBudWxsLCBuZXh0OiBudWxsIH07XG4gICAgfVxufVxuY29uc3QgZmlsZSA9IHtcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBwYWxldHRlOiBudWxsLFxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGRhdGE6IFtcbiAgICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgIFswLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgWzAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgIFswLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgWzAsIDAsIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIF0sXG59O1xuY29uc3QgZGVmYXVsdFBhbGV0dGUgPSBbXG4gICAgWzI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgWzAsIDAsIDAsIDI1NV0sXG5dO1xubGV0IHByZXZSZXZpc2lvbiA9IG51bGw7XG5sZXQgbmV4dFJldmlzaW9uID0gbnVsbDtcbmZ1bmN0aW9uIHNhdmVQcmV2UmV2aXNpb24ocmV2aXNpb24pIHtcbiAgICBwcmV2UmV2aXNpb24gPSByZXZpc2lvbjtcbn1cbmZ1bmN0aW9uIHNhdmVOZXh0UmV2aXNpb24ocmV2aXNpb24pIHtcbiAgICBuZXh0UmV2aXNpb24gPSByZXZpc2lvbjtcbn1cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5jb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuY2FudmFzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbmNhbnZhcy53aWR0aCA9IGZpbGUud2lkdGg7XG5jYW52YXMuaGVpZ2h0ID0gZmlsZS5oZWlnaHQ7XG4vL3pvb20gY2FudmFzXG5sZXQgem9vbSA9IDQ7XG5jYW52YXMuc3R5bGUud2lkdGggPSBgJHtmaWxlLndpZHRoICogem9vbX1weGA7XG5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7ZmlsZS5oZWlnaHQgKiB6b29tfXB4YDtcbmNhbnZhcy5zdHlsZS5pbWFnZVJlbmRlcmluZyA9IFwicGl4ZWxhdGVkXCI7XG4vLyBhYmlsaXR5IHRvIHpvb20gaW4gYW5kIG91dCB3aXRoIG1vdXNlIHdoZWVsXG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGRlbHRhID0gTWF0aC5zaWduKGUuZGVsdGFZKTtcbiAgICB6b29tICs9IGRlbHRhO1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IGAke2ZpbGUud2lkdGggKiB6b29tfXB4YDtcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7ZmlsZS5oZWlnaHQgKiB6b29tfXB4YDtcbn0pO1xuZG9jdW1lbnQuYm9keS5hcHBlbmQoY2FudmFzKTtcbmNvbnN0IGltYWdlRGF0YSA9IGN0eC5jcmVhdGVJbWFnZURhdGEoMTYsIDE2KTtcbmZvciAobGV0IHkgPSAwOyB5IDwgMTY7IHkrKykge1xuICAgIGZvciAobGV0IHggPSAwOyB4IDwgMTY7IHgrKykge1xuICAgICAgICBjb25zdCBjb2xvciA9IGZpbGUucGFsZXR0ZVxuICAgICAgICAgICAgPyBmaWxlLnBhbGV0dGVbZmlsZS5kYXRhW3ldW3hdXVxuICAgICAgICAgICAgOiBkZWZhdWx0UGFsZXR0ZVtmaWxlLmRhdGFbeV1beF1dO1xuICAgICAgICBjb25zdCBpbmRleCA9ICh5ICogMTYgKyB4KSAqIDQ7XG4gICAgICAgIGltYWdlRGF0YS5kYXRhW2luZGV4XSA9IGNvbG9yWzBdO1xuICAgICAgICBpbWFnZURhdGEuZGF0YVtpbmRleCArIDFdID0gY29sb3JbMV07XG4gICAgICAgIGltYWdlRGF0YS5kYXRhW2luZGV4ICsgMl0gPSBjb2xvclsyXTtcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAzXSA9IGNvbG9yWzNdO1xuICAgIH1cbn1cbmN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbi8vIGFiaWxpdHkgdG8gZHJhdyBwaXhlbCB3aXRoIG1vdXNlIGNsaWNrXG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgc2F2ZVByZXZSZXZpc2lvbihjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIDE2LCAxNikpO1xuICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgeCA9IE1hdGguZmxvb3IoKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgLyB6b29tKTtcbiAgICBjb25zdCB5ID0gTWF0aC5mbG9vcigoZS5jbGllbnRZIC0gcmVjdC50b3ApIC8gem9vbSk7XG4gICAgY29uc3QgaW5kZXggPSAoeSAqIDE2ICsgeCkgKiA0O1xuICAgIGltYWdlRGF0YS5kYXRhW2luZGV4XSA9IDA7XG4gICAgaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAxXSA9IDA7XG4gICAgaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAyXSA9IDA7XG4gICAgaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAzXSA9IDI1NTtcbiAgICBjdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgc2F2ZU5leHRSZXZpc2lvbihjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIDE2LCAxNikpO1xufSk7XG4vLyBhYmlsaXR5IHRvIGRyYXcgcGl4ZWwgd2l0aCBtb3VzZSBtb3ZlXG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmJ1dHRvbnMgPT09IDEpIHtcbiAgICAgICAgc2F2ZVByZXZSZXZpc2lvbihjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIDE2LCAxNikpO1xuICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcigoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIHpvb20pO1xuICAgICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcigoZS5jbGllbnRZIC0gcmVjdC50b3ApIC8gem9vbSk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gKHkgKiAxNiArIHgpICogNDtcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaW5kZXhdID0gMDtcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAxXSA9IDA7XG4gICAgICAgIGltYWdlRGF0YS5kYXRhW2luZGV4ICsgMl0gPSAwO1xuICAgICAgICBpbWFnZURhdGEuZGF0YVtpbmRleCArIDNdID0gMjU1O1xuICAgICAgICBjdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgICAgIHNhdmVOZXh0UmV2aXNpb24oY3R4LmdldEltYWdlRGF0YSgwLCAwLCAxNiwgMTYpKTtcbiAgICB9XG59KTtcbmZ1bmN0aW9uIHVuZG8oKSB7XG4gICAgaWYgKHByZXZSZXZpc2lvbikge1xuICAgICAgICBjb25zb2xlLmxvZyhcInVuZG9cIik7XG4gICAgICAgIGN0eC5wdXRJbWFnZURhdGEocHJldlJldmlzaW9uLCAwLCAwKTtcbiAgICAgICAgc2F2ZU5leHRSZXZpc2lvbihwcmV2UmV2aXNpb24pO1xuICAgICAgICBzYXZlUHJldlJldmlzaW9uKG51bGwpO1xuICAgIH1cbn1cbi8vIGFiaWxpdHkgdG8gdW5kbyBjaGFuZ2VzIHdpdGggY21kICsgelxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwielwiICYmIGUubWV0YUtleSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHVuZG8oKTtcbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6WyJmaWxlIiwiZGVmYXVsdFBhbGV0dGUiLCJwcmV2UmV2aXNpb24iLCJuZXh0UmV2aXNpb24iLCJzYXZlUHJldlJldmlzaW9uIiwicmV2aXNpb24iLCJzYXZlTmV4dFJldmlzaW9uIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwid2lkdGgiLCJoZWlnaHQiLCJ6b29tIiwiaW1hZ2VSZW5kZXJpbmciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZGVsdGEiLCJNYXRoIiwic2lnbiIsImRlbHRhWSIsImJvZHkiLCJhcHBlbmQiLCJpbWFnZURhdGEiLCJjcmVhdGVJbWFnZURhdGEiLCJ5IiwieCIsImNvbG9yIiwiaW5kZXgiLCJkYXRhIiwicHV0SW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZsb29yIiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRZIiwidG9wIiwiYnV0dG9ucyIsImtleSIsIm1ldGFLZXkiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==